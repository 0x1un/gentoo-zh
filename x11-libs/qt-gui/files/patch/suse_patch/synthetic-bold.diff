--- src/gui/text/qfontengine_ft.cpp	2008-07-25 21:00:30.000000000 +0800
+++ src/gui/text/qfontengine_ft.cpp	2008-07-30 09:58:33.000000000 +0800
@@ -62,6 +62,7 @@
 #include <ft2build.h>
 #include FT_FREETYPE_H
 #include FT_OUTLINE_H
+#include FT_SYNTHESIS_H
 #include FT_TRUETYPE_TABLES_H
 #include FT_TYPE1_TABLES_H
 #include FT_GLYPH_H
@@ -515,6 +516,7 @@
     cache_cost = 100;
     kerning_pairs_loaded = false;
     transform = false;
+    embolden = false;
     antialias = true;
     default_load_flags = 0;
     subpixelType = Subpixel_None;
@@ -562,10 +564,7 @@
 
     FT_Face face = lockFace();
 
-    //underline metrics
     if (FT_IS_SCALABLE(face)) {
-        line_thickness =  QFixed::fromFixed(FT_MulFix(face->underline_thickness, face->size->metrics.y_scale));
-        underline_position = QFixed::fromFixed(-FT_MulFix(face->underline_position, face->size->metrics.y_scale));
         bool fake_oblique = (fontDef.style != QFont::StyleNormal) && !(face->style_flags & FT_STYLE_FLAG_ITALIC);
         if (fake_oblique)
             matrix.xy = 0x10000*3/10;
@@ -573,6 +572,12 @@
         freetype->matrix = matrix;
         if (fake_oblique)
             transform = true;
+    // fake bold
+        if ((fontDef.weight == QFont::Bold) && !(face->style_flags & FT_STYLE_FLAG_BOLD))
+            embolden = true;
+    // underline metrics
+        line_thickness =  QFixed::fromFixed(FT_MulFix(face->underline_thickness, face->size->metrics.y_scale));
+        underline_position = QFixed::fromFixed(-FT_MulFix(face->underline_position, face->size->metrics.y_scale));
     } else {
         // copied from QFontEngineQPF
         // ad hoc algorithm
@@ -681,6 +686,8 @@
 
     FT_GlyphSlot slot = face->glyph;
 
+    if (embolden) FT_GlyphSlot_Embolden(slot);
+
     int left  = slot->metrics.horiBearingX;
     int right = slot->metrics.horiBearingX + slot->metrics.width;
     int top    = slot->metrics.horiBearingY;
@@ -995,6 +1002,8 @@
     int s = 0;
     if ((fontDef.style != QFont::StyleNormal) && !(freetype->face->style_flags & FT_STYLE_FLAG_ITALIC))
         s = SynthesizedItalic;
+    if ((fontDef.weight == QFont::Bold) && !(freetype->face->style_flags & FT_STYLE_FLAG_BOLD))
+        s |= SynthesizedBold;
     if (fontDef.stretch != 100 && FT_IS_SCALABLE(freetype->face))
         s |= SynthesizedStretch;
     return s;

--- src/gui/text/qfontengine_ft_p.h	2008-07-25 21:00:30.000000000 +0800
+++ src/gui/text/qfontengine_ft_p.h	2008-07-28 14:12:27.000000000 +0800
@@ -275,6 +275,7 @@
     bool antialias;
     bool outline_drawing;
     bool transform;
+    bool embolden;
     SubpixelAntialiasingType subpixelType;
     bool canUploadGlyphsToServer;
 